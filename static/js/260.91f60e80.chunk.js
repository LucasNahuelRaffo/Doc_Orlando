"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[260],{9260:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var s=n(5043),a=n(9677),r=n(7598),i=n(579);function o(e){let{onSuccess:t}=e;const n=(0,r.t2)(),a=(0,r.HH)(),[o,c]=(0,s.useState)(null),[l,d]=(0,s.useState)(!1);return"\xa1Pago exitoso!"===o?(0,i.jsxs)("div",{className:"w-full text-center py-8 animate-fade-in",children:[(0,i.jsx)("div",{className:"mb-4 flex justify-center",children:(0,i.jsx)("div",{className:"h-16 w-16 bg-green-500/10 rounded-full flex items-center justify-center",children:(0,i.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,i.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\xa1Pago realizado!"}),(0,i.jsx)("p",{className:"text-gray-400",children:"Procesando su cita..."})]}):(0,i.jsxs)("form",{id:"payment-form",onSubmit:async e=>{if(e.preventDefault(),!n||!a)return;d(!0);if(!a.getElement(r.He))return c("El formulario de pago no termin\xf3 de cargar. Espera y reintenta."),void d(!1);const{error:s}=await a.submit();if(s)return c(s.message),void d(!1);const{error:i,paymentIntent:o}=await n.confirmPayment({elements:a,confirmParams:{return_url:window.location.origin+"/contacto"},redirect:"if_required"});i?c(i.message):o&&"succeeded"===o.status?(c("\xa1Pago exitoso!"),t&&t(o)):c("Algo sali\xf3 mal. Intente nuevamente."),d(!1)},className:"w-full",children:[(0,i.jsx)(r.He,{id:"payment-element",options:{layout:"tabs"}}),(0,i.jsx)("button",{disabled:l||!n||!a,id:"submit",className:"boton-formulario w-full mt-4",style:{marginTop:"1.5rem"},children:(0,i.jsx)("span",{id:"button-text",children:l?"Procesando...":"Pagar $50 y agendar"})}),o&&(0,i.jsx)("div",{id:"payment-message",className:"mt-4 text-center text-sm text-red-400",children:o})]})}const c=(0,a.c)("pk_test_51SfuRvLXGtM91pz0dEvDBpTuSAWZAGCEP5YZaCqXrSvDZHT4vqK3jW3Vb39I6eDVY61NuemdqKKQ10umsysJZUwz00eWdJGZZi"),l="https://doc-orlando.vercel.app".replace(/\/$/,"");function d(){const[e,t]=(0,s.useState)("");(0,s.useEffect)(()=>{fetch("".concat(l,"/api/create-payment-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:"consultation"}],amount:5e3})}).then(e=>e.json()).then(e=>t(e.clientSecret))},[]);const n={clientSecret:e,appearance:{theme:"stripe"}};return(0,i.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Paga tu consulta"})}),e&&(0,i.jsx)(r.S8,{options:n,stripe:c,children:(0,i.jsx)(o,{})})]})})}}}]);
//# sourceMappingURL=260.91f60e80.chunk.js.map