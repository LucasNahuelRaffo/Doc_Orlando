{"version":3,"file":"static/js/455.810b61da.chunk.js","mappings":"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","sources":["components/FinalSection.jsx"],"sourcesContent":["// src/components/FinalSection.jsx\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport video from \"../img/Video_Final.mp4\";\r\nimport HoverBorderGradient from \"./ui/hover-border-gradient\";\r\n\r\nconst FinalSection = () => {\r\n  const videoRef = useRef(null);\r\n  const isVisibleRef = useRef(false);\r\n  const hasInteractedRef = useRef(false);\r\n\r\n  // üîì Desbloquear audio despu√©s del primer click/touch del usuario\r\n  useEffect(() => {\r\n    const unlockAudio = () => {\r\n      hasInteractedRef.current = true;\r\n      const v = videoRef.current;\r\n      if (v && isVisibleRef.current) {\r\n        v.muted = false;\r\n        const p = v.play?.();\r\n        if (p && p.catch) p.catch(() => {});\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"click\", unlockAudio, { once: true });\r\n    window.addEventListener(\"touchstart\", unlockAudio, { once: true });\r\n\r\n    return () => {\r\n      window.removeEventListener(\"click\", unlockAudio);\r\n      window.removeEventListener(\"touchstart\", unlockAudio);\r\n    };\r\n  }, []);\r\n\r\n  const handleEnter = () => {\r\n    const v = videoRef.current;\r\n    if (!v) return;\r\n    isVisibleRef.current = true;\r\n\r\n    // si el usuario ya interactu√≥, se escucha el audio\r\n    const shouldHaveAudio = hasInteractedRef.current;\r\n    v.muted = !shouldHaveAudio;\r\n\r\n    const p = v.play?.();\r\n    if (p && p.catch) p.catch(() => {});\r\n  };\r\n\r\n  const handleLeave = () => {\r\n    const v = videoRef.current;\r\n    if (!v) return;\r\n    isVisibleRef.current = false;\r\n    // fuera de vista: muteamos y frenamos\r\n    v.muted = true;\r\n    v.pause?.();\r\n    v.currentTime = 0;\r\n  };\r\n\r\n  // ‚¨ÜÔ∏è Doble click para agrandar a pantalla completa (sin romper si el navegador lo bloquea)\r\n  const handleExpandFinal = () => {\r\n    const v = videoRef.current;\r\n    if (!v) return;\r\n\r\n    try {\r\n      if (v.requestFullscreen && (document.fullscreenEnabled ?? true)) {\r\n        const fsPromise = v.requestFullscreen();\r\n        if (fsPromise && fsPromise.catch) {\r\n          fsPromise.catch((err) => {\r\n            console.warn(\"Fullscreen bloqueado por el navegador:\", err);\r\n          });\r\n        }\r\n      } else if (v.webkitEnterFullscreen) {\r\n        // Safari iOS\r\n        v.webkitEnterFullscreen();\r\n      } else {\r\n        // si no hay API de fullscreen soportada, simplemente no hacemos nada\r\n        console.warn(\"Fullscreen no soportado en este navegador.\");\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"No se pudo entrar en fullscreen\", e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section id=\"final-section\" className=\"cloudy-bg final-section\">\r\n      {/* CAPA DE PART√çCULAS */}\r\n      <div className=\"final-section__particles\" />\r\n\r\n      <motion.div\r\n        className=\"final-section__inner\"\r\n        initial={{ opacity: 0, y: 60 }}\r\n        whileInView={{ opacity: 1, y: 0 }}\r\n        viewport={{ once: true, amount: 0.35 }}\r\n        transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n      >\r\n        {/* VIDEO VERTICAL CENTRADO */}\r\n        <motion.div\r\n          className=\"final-section__video-vertical video-glow\"\r\n          initial={{ scale: 0.9, opacity: 0 }}\r\n          whileInView={{ scale: 1, opacity: 1 }}\r\n          viewport={{ once: false, amount: 0.5 }}\r\n          transition={{ duration: 0.9, ease: \"easeOut\", delay: 0.15 }}\r\n          whileHover={{ scale: 1.02 }}\r\n          onViewportEnter={handleEnter}\r\n          onViewportLeave={handleLeave}\r\n        >\r\n          <video\n            loading=\"lazy\"\n            ref={videoRef}\n            className=\"final-section__video-el-vertical\"\n            src={video}\n            preload=\"metadata\"\n            playsInline\n            muted        // arranca muteado, luego se activa el audio tras interacci√≥n\n            controls\n            onDoubleClick={handleExpandFinal}\n          />\n        </motion.div>\r\n\r\n        {/* BOT√ìN DEBAJO CON TU COMPONENTE */}\r\n        <motion.div\r\n          className=\"final-section__button\"\r\n          initial={{ opacity: 0, y: 20 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true, amount: 0.4 }}\r\n          transition={{ duration: 0.6, ease: \"easeOut\", delay: 0.3 }}\r\n          whileHover={{ scale: 1.03 }}\r\n          whileTap={{ scale: 0.97 }}\r\n        >\r\n          <HoverBorderGradient as=\"a\" href=\"#contacto\" className=\"hbg--light\">\r\n            Agendar Cita\r\n          </HoverBorderGradient>\r\n        </motion.div>\r\n      </motion.div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default FinalSection;\r\n"],"names":["FinalSection","videoRef","useRef","isVisibleRef","hasInteractedRef","useEffect","unlockAudio","current","v","_v$play","muted","p","play","call","catch","window","addEventListener","once","removeEventListener","_jsxs","id","className","children","_jsx","motion","div","initial","opacity","y","whileInView","viewport","amount","transition","duration","ease","scale","delay","whileHover","onViewportEnter","handleEnter","_v$play2","shouldHaveAudio","onViewportLeave","handleLeave","_v$pause","pause","currentTime","loading","ref","src","video","preload","playsInline","controls","onDoubleClick","handleExpandFinal","_document$fullscreenE","requestFullscreen","document","fullscreenEnabled","fsPromise","err","console","warn","webkitEnterFullscreen","e","whileTap","HoverBorderGradient","as","href"],"sourceRoot":""}