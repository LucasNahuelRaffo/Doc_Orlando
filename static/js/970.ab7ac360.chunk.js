"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[970],{9970:(e,a,s)=>{s.r(a),s.d(a,{default:()=>n});var r=s(5043),i=s(579);function n(){const[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)([]),[t,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(null),u=(0,r.useRef)(null),h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=h.current;if(!e||!("IntersectionObserver"in window))return;const a=Array.from(e.querySelectorAll(".ai-anim")),s=new IntersectionObserver((e,a)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-inview"),a.unobserve(e.target))})},{threshold:.18,rootMargin:"0px 0px -10% 0px"});return a.forEach(e=>s.observe(e)),()=>s.disconnect()},[]),(0,i.jsx)("section",{ref:h,className:"section ai-consult",style:{paddingTop:"3.5rem",paddingBottom:"4rem"},children:(0,i.jsxs)("div",{className:"container",style:{maxWidth:1100},children:[(0,i.jsxs)("header",{className:"ai-anim ai-up",style:{textAlign:"center",marginBottom:"1.25rem","--ai-delay":"60ms"},children:[(0,i.jsx)("h1",{className:"h2",style:{fontSize:"clamp(2rem, 4.5vw, 3.25rem)"},children:"Consulta Virtual con IA"}),(0,i.jsx)("p",{className:"lead",style:{maxWidth:820,margin:"12px auto 0"},children:"Describa sus inquietudes o pegue las notas de una consulta y nuestra IA generar\xe1 un resumen claro y sugerir\xe1 los pr\xf3ximos pasos a seguir. Esta herramienta es para fines informativos y no reemplaza una consulta m\xe9dica real."})]}),(0,i.jsxs)("div",{className:"ai-grid",style:{display:"grid",gridTemplateColumns:"1fr 360px",gap:"1.5rem",marginTop:"2.25rem"},children:[(0,i.jsxs)("div",{className:"surface rounded-xl shadow ai-form ai-anim ai-left ".concat(t?"is-loading":""),style:{padding:"1rem","--ai-delay":"140ms"},children:[(0,i.jsx)("div",{className:"ai-progress","aria-hidden":!0}),(0,i.jsx)("h3",{className:"h3",style:{margin:0,marginBottom:".5rem"},children:"Ingrese sus Notas"}),(0,i.jsxs)("form",{onSubmit:async function(s){s.preventDefault(),m(null);const r=(e||"").trim();if(r){l(!0),d(null);try{const e=await fetch("/api/ai/resume",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:r})});if(!e.ok){const a=await e.text();throw new Error(a||"Error en el servidor")}const s=await e.json(),i=s.summary||s.result||"No se obtuvo respuesta.",t={id:Date.now(),text:r,summary:i,createdAt:(new Date).toLocaleString()};n(e=>[t,...e]),d(i),a("")}catch(i){console.error(i),m("No se pudo generar el resumen. Intenta m\xe1s tarde.")}finally{l(!1)}}else m("Por favor ingrese notas para generar un resumen.")},style:{display:"flex",flexDirection:"column",gap:".75rem",marginTop:".75rem"},children:[(0,i.jsx)("textarea",{ref:u,value:e,onChange:e=>a(e.target.value),placeholder:"Describe aqu\xed los s\xedntomas, preguntas o informaci\xf3n de la consulta...",className:"ai-textarea",style:{minHeight:200,resize:"vertical",width:"100%",padding:"1rem",borderRadius:8,background:"transparent",border:"1px solid rgba(255,255,255,0.04)",color:"inherit"}}),c&&(0,i.jsx)("div",{className:"ai-anim ai-up is-inview",style:{color:"#ffb3b3",fontWeight:600,"--ai-delay":"0ms"},children:c}),o&&(0,i.jsxs)("div",{className:"ai-summary ai-anim ai-pop is-inview",style:{"--ai-delay":"0ms"},children:[(0,i.jsx)("strong",{children:"Resumen generado:"}),(0,i.jsx)("p",{style:{margin:".5rem 0 0",color:"var(--blanco-perla)",opacity:.9},children:o})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:".75rem",alignItems:"center"},children:[(0,i.jsxs)("div",{className:"hbg",style:{display:"inline-flex"},children:[(0,i.jsx)("button",{type:"submit",className:"hbg__btn btn btn--primary ai-btn",style:{minWidth:220},disabled:t,children:t?"Generando\u2026":"\u2728 Generar Resumen"}),(0,i.jsx)("span",{className:"hbg__halo","aria-hidden":"true"})]}),(0,i.jsx)("button",{type:"button",className:"btn btn--ghost ai-btn-ghost",onClick:function(){a(""),d(null),m(null),u.current&&u.current.focus()},title:"Limpiar",children:"Limpiar"})]})]})]}),(0,i.jsxs)("aside",{className:"surface rounded-xl shadow ai-anim ai-right",style:{padding:"1rem","--ai-delay":"200ms"},children:[(0,i.jsx)("h3",{className:"h3",style:{margin:0,marginBottom:".5rem"},children:"Historial de Consultas"}),(0,i.jsx)("div",{style:{marginTop:".75rem",minHeight:80},children:0===s.length?(0,i.jsx)("p",{className:"muted",style:{margin:0},children:"No hay consultas guardadas."}):(0,i.jsx)("ul",{style:{margin:0,padding:0,listStyle:"none",display:"grid",gap:".6rem"},children:s.map((e,a)=>(0,i.jsxs)("li",{className:"ai-history-item ai-anim ai-up",style:{borderRadius:8,padding:".6rem",background:"transparent",border:"1px solid rgba(255,255,255,0.03)","--ai-delay":"".concat(80*a,"ms")},children:[(0,i.jsx)("div",{style:{fontWeight:700},children:e.createdAt}),(0,i.jsx)("div",{style:{fontSize:".95rem",color:"var(--blanco-perla)",opacity:.88,marginTop:".25rem"},children:e.summary?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("strong",{children:"Resumen:"}),(0,i.jsx)("div",{style:{marginTop:4},children:e.summary})]}):(0,i.jsxs)("div",{children:[e.text.slice(0,140),e.text.length>140?"\u2026":""]})})]},e.id))})})]})]})]})})}}}]);
//# sourceMappingURL=970.ab7ac360.chunk.js.map