"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[612],{3177:(e,t,n)=>{n.d(t,{A:()=>i});var s=n(5043),a=n(7598),r=n(579);function i(e){let{onSuccess:t}=e;const n=(0,a.t2)(),i=(0,a.HH)(),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1);return"Pago exitoso!"===o?(0,r.jsxs)("div",{className:"w-full text-center py-8 animate-fade-in",children:[(0,r.jsx)("div",{className:"mb-4 flex justify-center",children:(0,r.jsx)("div",{className:"h-16 w-16 bg-green-500/10 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\xa1Pago Realizado!"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Procesando su cita..."})]}):(0,r.jsxs)("form",{id:"payment-form",onSubmit:async e=>{if(e.preventDefault(),!n||!i)return;d(!0);if(!i.getElement(a.He))return l("El formulario de pago no termino de cargar. Espera y reintenta."),void d(!1);const{error:s}=await i.submit();if(s)return l(s.message),void d(!1);const{error:r,paymentIntent:o}=await n.confirmPayment({elements:i,confirmParams:{return_url:window.location.origin+"/contacto"},redirect:"if_required"});r?l(r.message):o&&"succeeded"===o.status?(l("Pago exitoso!"),t&&t(o)):l("Algo sali\xf3 mal. Intente nuevamente."),d(!1)},className:"w-full",children:[(0,r.jsx)(a.He,{id:"payment-element",options:{layout:"tabs"}}),(0,r.jsx)("button",{disabled:c||!n||!i,id:"submit",className:"boton-formulario w-full mt-4",style:{marginTop:"1.5rem"},children:(0,r.jsx)("span",{id:"button-text",children:c?"Procesando...":"Pagar $100 y Agendar"})}),o&&(0,r.jsx)("div",{id:"payment-message",className:"mt-4 text-center text-sm text-red-400",children:o})]})}},4612:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var s=n(5043),a=n(9677),r=n(7598),i=n(3177),o=n(579);const l=(0,a.c)("pk_live_51SfuRpLQZ96lT6kduvIt1I5s0pb1WJbDhCk9fPFir17SXHpxZi3uYUeIYYlxpAthir8sANKE7Bg4JsLHo1sZyDzZ00uFS2DC2F"),c="https://doc-orlando.vercel.app".replace(/\/$/,"");function d(){const[e,t]=(0,s.useState)("");(0,s.useEffect)(()=>{fetch("".concat(c,"/api/create-payment-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:"consultation"}],amount:2e3})}).then(e=>e.json()).then(e=>t(e.clientSecret))},[]);const n={clientSecret:e,appearance:{theme:"stripe"}};return(0,o.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,o.jsx)("div",{children:(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Pay for your Consultation"})}),e&&(0,o.jsx)(r.S8,{options:n,stripe:l,children:(0,o.jsx)(i.A,{})})]})})}}}]);
//# sourceMappingURL=612.118b5fc8.chunk.js.map