"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[612],{3177:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(5043),a=s(7598),r=s(579);function i(e){let{onSuccess:t}=e;const s=(0,a.t2)(),i=(0,a.HH)(),[c,o]=(0,n.useState)(null),[l,d]=(0,n.useState)(!1);return"Pago exitoso!"===c?(0,r.jsxs)("div",{className:"w-full text-center py-8 animate-fade-in",children:[(0,r.jsx)("div",{className:"mb-4 flex justify-center",children:(0,r.jsx)("div",{className:"h-16 w-16 bg-green-500/10 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\xa1Pago Realizado!"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Procesando su cita..."})]}):(0,r.jsxs)("form",{id:"payment-form",onSubmit:async e=>{if(e.preventDefault(),!s||!i)return;d(!0);const{error:n,paymentIntent:a}=await s.confirmPayment({elements:i,confirmParams:{return_url:window.location.origin+"/contacto"},redirect:"if_required"});n?o(n.message):a&&"succeeded"===a.status?(o("Pago exitoso!"),t&&t(a)):o("Algo sali\xf3 mal. Intente nuevamente."),d(!1)},className:"w-full",children:[(0,r.jsx)(a.He,{id:"payment-element",options:{layout:"tabs"}}),(0,r.jsx)("button",{disabled:l||!s||!i,id:"submit",className:"boton-formulario w-full mt-4",style:{marginTop:"1.5rem"},children:(0,r.jsx)("span",{id:"button-text",children:l?"Procesando...":"Pagar $100 y Agendar"})}),c&&(0,r.jsx)("div",{id:"payment-message",className:"mt-4 text-center text-sm text-red-400",children:c})]})}},4612:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var n=s(5043),a=s(9677),r=s(7598),i=s(3177),c=s(579);const o=(0,a.c)("pk_test_51SfuRvLXGtM91pz0dEvDBpTuSAWZAGCEP5YZaCqXrSvDZHT4vqK3jW3Vb39I6eDVY61NuemdqKKQ10umsysJZUwz00eWdJGZZi");function l(){const[e,t]=(0,n.useState)("");(0,n.useEffect)(()=>{fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:"consultation"}],amount:2e3})}).then(e=>e.json()).then(e=>t(e.clientSecret))},[]);const s={clientSecret:e,appearance:{theme:"stripe"}};return(0,c.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,c.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,c.jsx)("div",{children:(0,c.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Pay for your Consultation"})}),e&&(0,c.jsx)(r.S8,{options:s,stripe:o,children:(0,c.jsx)(i.A,{})})]})})}}}]);
//# sourceMappingURL=612.a1fd1bd7.chunk.js.map