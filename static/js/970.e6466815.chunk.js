"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[970],{970:(e,s,r)=>{r.r(s),r.d(s,{default:()=>t});var a=r(43),n=r(579);function t(){const[e,s]=(0,a.useState)(""),[r,t]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[c,m]=(0,a.useState)(null),u=(0,a.useRef)(null);return(0,n.jsx)("section",{className:"section",style:{paddingTop:"3.5rem",paddingBottom:"4rem"},children:(0,n.jsxs)("div",{className:"container",style:{maxWidth:1100},children:[(0,n.jsxs)("header",{style:{textAlign:"center",marginBottom:"1.25rem"},children:[(0,n.jsx)("h1",{className:"h2",style:{fontSize:"clamp(2rem, 4.5vw, 3.25rem)"},children:"Consulta Virtual con IA"}),(0,n.jsx)("p",{className:"lead",style:{maxWidth:820,margin:"12px auto 0"},children:"Describa sus inquietudes o pegue las notas de una consulta y nuestra IA generar\xe1 un resumen claro y sugerir\xe1 los pr\xf3ximos pasos a seguir. Esta herramienta es para fines informativos y no reemplaza una consulta m\xe9dica real."})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 360px",gap:"1.5rem",marginTop:"2.25rem"},children:[(0,n.jsxs)("div",{className:"surface rounded-xl shadow",style:{padding:"1rem"},children:[(0,n.jsx)("h3",{className:"h3",style:{margin:0,marginBottom:".5rem"},children:"Ingrese sus Notas"}),(0,n.jsxs)("form",{onSubmit:async function(r){r.preventDefault(),m(null);const a=(e||"").trim();if(a){l(!0),d(null);try{const e=await fetch("/api/ai/resume",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:a})});if(!e.ok){const s=await e.text();throw new Error(s||"Error en el servidor")}const r=await e.json(),n=r.summary||r.result||"No se obtuvo respuesta.",i={id:Date.now(),text:a,summary:n,createdAt:(new Date).toLocaleString()};t(e=>[i,...e]),d(n),s("")}catch(n){console.error(n),m("No se pudo generar el resumen. Intenta m\xe1s tarde.")}finally{l(!1)}}else m("Por favor ingrese notas para generar un resumen.")},style:{display:"flex",flexDirection:"column",gap:".75rem",marginTop:".75rem"},children:[(0,n.jsx)("textarea",{ref:u,value:e,onChange:e=>s(e.target.value),placeholder:"Describe aqu\xed los s\xedntomas, preguntas o informaci\xf3n de la consulta...",style:{minHeight:200,resize:"vertical",width:"100%",padding:"1rem",borderRadius:8,background:"transparent",border:"1px solid rgba(255,255,255,0.04)",color:"inherit"}}),c&&(0,n.jsx)("div",{style:{color:"#ffb3b3",fontWeight:600},children:c}),o&&(0,n.jsxs)("div",{style:{background:"rgba(255,255,255,0.02)",padding:".75rem",borderRadius:8,border:"1px solid rgba(255,255,255,0.03)"},children:[(0,n.jsx)("strong",{children:"Resumen generado:"}),(0,n.jsx)("p",{style:{margin:".5rem 0 0",color:"var(--blanco-perla)",opacity:.9},children:o})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:".75rem",alignItems:"center"},children:[(0,n.jsxs)("div",{className:"hbg",style:{display:"inline-flex"},children:[(0,n.jsx)("button",{type:"submit",className:"hbg__btn btn btn--primary",style:{minWidth:220},disabled:i,children:i?"Generando\u2026":"\u2728 Generar Resumen"}),(0,n.jsx)("span",{className:"hbg__halo","aria-hidden":"true"})]}),(0,n.jsx)("button",{type:"button",className:"btn btn--ghost",onClick:function(){s(""),d(null),m(null),u.current&&u.current.focus()},title:"Limpiar",children:"Limpiar"})]})]})]}),(0,n.jsx)("aside",{children:(0,n.jsxs)("div",{className:"surface rounded-xl shadow",style:{padding:"1rem"},children:[(0,n.jsx)("h3",{className:"h3",style:{margin:0,marginBottom:".5rem"},children:"Historial de Consultas"}),(0,n.jsx)("div",{style:{marginTop:".75rem",minHeight:80},children:0===r.length?(0,n.jsx)("p",{className:"muted",style:{margin:0},children:"No hay consultas guardadas."}):(0,n.jsx)("ul",{style:{margin:0,padding:0,listStyle:"none",display:"grid",gap:".6rem"},children:r.map(e=>(0,n.jsxs)("li",{style:{borderRadius:8,padding:".6rem",background:"transparent",border:"1px solid rgba(255,255,255,0.03)"},children:[(0,n.jsx)("div",{style:{fontWeight:700},children:e.createdAt}),(0,n.jsx)("div",{style:{fontSize:".95rem",color:"var(--blanco-perla)",opacity:.88,marginTop:".25rem"},children:e.summary?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:"Resumen:"})," ",(0,n.jsx)("div",{style:{marginTop:4},children:e.summary})]}):(0,n.jsxs)("div",{children:[e.text.slice(0,140),e.text.length>140?"\u2026":""]})})]},e.id))})})]})})]})]})})}}}]);
//# sourceMappingURL=970.e6466815.chunk.js.map